@model LeDangQuang_DoAnTotNghiep.Models.Sach
@{
    ViewBag.Title = "SuaSach";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    string ImagePath = "~/wwwroot/Images/" + Model.Anh;
}

@section header{
    <div class="container-fluid px-4">
        <h1 class="mt-4" style="text-align: center;">Sửa sách</h1>
    </div>
}
@using (Html.BeginForm("SuaSach", "QLSach", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model=>model.MaSach)
    <table style="margin-left: 30%;">
        <tr>
            <td>
                <label for="dob_au">Thể loại</label>
            </td>
            <td>
                @Html.DropDownList("MaTL", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.MaTL, "", new { @class = "text-danger" })
            </td>
            <td rowspan="5">
                <label style="margin-left: 90px;">Ảnh</label>
                <br>
                <img id="output" width="150" height="150" style="border: solid 1px black; margin-left: 40px;" src="@Url.Content(ImagePath)"/>
                <br>
                <label for="image_au" style="margin-left: 40px; cursor:pointer">Chọn file ảnh</label>
                <input type="file" id="image_au" name="Anhtg" class="up_anh" onchange="loadFile(event)" style="margin-left: 20px; display:none">
                @Html.HiddenFor(model=>model.Anh)
            </td>
        </tr>

        <tr>
            <td>
                <label for="name_au">Danh mục</label>
            </td>
            <td>
                @Html.DropDownList("MaDM", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.MaDM, "", new { @class = "text-danger" })
            </td>
        </tr>

        <tr>
            <td>
                <label for="hometown_au">Tên sách</label>
            </td>
            <td>
                @Html.EditorFor(model => model.TenSach, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TenSach, "", new { @class = "text-danger" })
            </td>
        </tr>

        <tr>
            <td>
                <label for="hometown_au">Tác giả</label>
            </td>
            <td>
                @Html.EditorFor(model => model.TacGia, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TacGia, "", new { @class = "text-danger" })
            </td>
        </tr>
        <tr>
            <td>
                <label for="ts_au">Mô tả</label>
            </td>
            <td>
                @Html.EditorFor(model => model.MoTa, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.MoTa, "", new { @class = "text-danger" })
            </td>
        </tr>
        <tr>
            <td>
                <label for="ts_au">Số lượng</label>
            </td>
            <td>
                @Html.EditorFor(model => model.SoLuong, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.SoLuong, "", new { @class = "text-danger" })
            </td>
        </tr>
        <tr>
            <td>
                <label for="ts_au">Giá bán</label>
            </td>
            <td>
                @Html.EditorFor(model => model.Gia, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Gia, "", new { @class = "text-danger" })
            </td>
        </tr>
    </table>
    <br />
    <button style="margin-left: 27%; height: 40px; width: 200px; border-radius: 5px;
                                    font-size: 25px; background-color: #3399CC; color: black;">
        Lưu <i class="ti-check"></i>
    </button>
    <button style="margin-left:40px;height: 40px; width: 200px; border-radius: 5px;
                                    font-size: 25px; background-color: #3399CC; color: black;">
        <a href="@Url.Action("Index", "QLSach")" style="color:black; text-decoration:none;display:block">Hủy bỏ</a> <i class="ti-close"></i>
    </button>
}
@if (ViewBag.Error != null)
{
    <p class="alert alert-danger" role="alert">@ViewBag.Error</p>
}
<script>
    var loadFile = function (event) {
        image = document.getElementById('output');
        image.src = URL.createObjectURL(event.target.files[0]);
    }
</script>
<script src="~/Scripts/jquery.validate-vsdoc.js"></script>
<script src="~/Scripts/jquery-1.8.0.min.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>


