@model IEnumerable<LeDangQuang_DoAnTotNghiep.Models.DonHang>
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@section header{
    <div class="container-fluid px-4">
        <h1 class="mt-4" style="text-align: center;">Quản lý đơn hàng</h1>
    </div>
}
<div style="display:flex; justify-content: space-around; height:50px; align-items:center; margin-bottom:10px">
    <a href="@Url.Action("DonThanhToan","QLDonHang")" style="text-decoration: none; padding: 10px 20px; border: 1px solid #0d6efd; border-radius: 5px; background-color: #0d6efd; color:white ">Đã thanh toán</a>
    <a href="@Url.Action("GiaoChoDVVanChuyen","QLDonHang")" style="text-decoration: none; padding: 10px 20px; border: 1px solid #0d6efd; border-radius: 5px; background-color: #0d6efd; color:white ">Giao cho đơn vị vận chuyển</a>
    <a href="@Url.Action("DonBiHuy","QLDonHang")" style="text-decoration: none; padding: 10px 20px; border: 1px solid #0d6efd; border-radius: 5px; background-color: #0d6efd; color:white ">Đã hủy</a>
</div>
<div class="card mb-4">
    <div class="card-header">
        <i class="fas fa-table me-1"></i>
        Thông tin đơn hàng
    </div>
    <div class="card-body">
        <table id="datatablesSimple">
            <thead>
                <tr>
                    <th>Tên khách hàng</th>
                    <th>Ngày đặt</th>
                    <th>Số điện thoại</th>
                    <th>Địa chỉ nhận</th>
                    <th>Trạng thái</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                <tr>
                    <td>@item.KhachHang.HoTen</td>
                    <td>@item.NgayDat</td>
                    <td>@item.KhachHang.SoDT</td>
                    <td>@item.DiaChiNhan</td>
                    <td>@(item.TrangThai == false ? "Chưa duyệt" : "Đã duyệt")</td>
                    <td style="display:flex; justify-content: space-around">
                        @if(item.TrangThai == false)
                        {
                        <a href="@Url.Action("DuyetDonHang","QLDonHang",new {id = item.MaDonHang })" style="text-decoration:none">Duyệt đơn</a>
                        }               
                        <a href="@Url.Action("XemChiTietDonHang","QLDonHang",new {id = item.MaDonHang })" style="text-decoration:none">Chi tiết</a>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>
